<div class="container">
    <h1 class="musician-profile-heading">Musicians</h1>
    <%= form_tag(musician_profiles_path, method: "get") do %>
    <%= label_tag :genre, "ジャンル" %>
    <%= select_tag :genre, options_for_select(MusicianProfile.genres.keys.map {|k| [I18n.t("enums.musician_profile.genre.#{k}"), k]}) %>
    <%= label_tag :area, "エリア" %>
    <%= select_tag :area, options_for_select(MusicianProfile.areas.keys.map {|k| [I18n.t("enums.musician_profile.area.#{k}"), k]}) %>
    <%= submit_tag "絞り込み検索" %>
    <% end %>

    <% if @musician_profiles.count == 0 %>
    <p>検索結果なし</p>
    <% end %>
    <br><br>

    <div class="d-flex flex-wrap justify-content-between">
        <% @musician_profiles.each do |musician_profile| %>
        <div class="profile-box border-dark d-flex justify-content-center">
            <div class="profile-content">
                <div class="image-area d-inline">
                    <%= attachment_image_tag musician_profile, :image, fallback:"no_image.jpg", class:"rounded-circle image-area" %>
                </div>
                <h4 class="d-inline"><%= musician_profile.username.truncate(10) %></h4><br>
                <i class="fas fa-map-pin"><%= musician_profile.area_i18n %></i><br>
                <i class="fas fa-music"><%= musician_profile.instrument %></i><br>
                <i class="fas fa-yen-sign"><%= musician_profile.price %>/時間</i>
                <%= link_to "詳細", musician_profile_path(musician_profile.id), class:"btn btn-warning" %>
            </div>
        </div>
        <% end %>
    </div>
</div>