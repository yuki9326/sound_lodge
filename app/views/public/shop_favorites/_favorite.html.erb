<% if end_user_signed_in? %>
    <% if current_end_user.already_favorited?(shop_profile) %>
        <%= link_to shop_profile_shop_favorites_path(shop_profile), method: :delete, remote: true do %>
            <i class="fa fa-heart" aria-hidden="true" style="color: red;">
                <%= shop_profile.shop_favorites.count %>
            </i>
        <% end %>
    <% else %>
        <%= link_to shop_profile_shop_favorites_path(shop_profile), method: :post, remote: true do %>
            <i class="fa fa-heart" aria-hidden="true" style="color: #C0C0C0;">
                <%= shop_profile.shop_favorites.count %>
            </i>
        <% end %>
    <% end %>
<% else %>
    <i class="fa fa-heart" aria-hidden="true">
            <%= shop_profile.shop_favorites.count %>
    </i>
<% end %>